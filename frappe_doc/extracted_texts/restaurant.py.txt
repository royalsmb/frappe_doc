import frappe
def validate(doc, method):
    if doc.room and doc.order_type == 'Room':
        room_doc = frappe.get_doc('Rooms', doc.room)
        if room_doc.room_status != 'Checked In' and room_doc.check_in_id == doc.check_in_id:
            frappe.throw('Room Status is not Checked In')

def on_submit(doc, method=None):
    if doc.room and doc.order_type == 'Room':
            if doc.is_paid == 1:
                doc.status = "Completed"
                frappe.db.set_value("Food Order", doc.name,"status", "Completed")
                frappe.db.commit()