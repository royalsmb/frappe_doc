import"./index.De_1-CT6.js";const m="https://dinkstest.erpera.io";async function b(e,T={},k=fetch){var c,y,h,n,g,s,u,w;typeof e=="string"&&(e=new URL(e,m));const{body:i,formBody:a,...f}=T,r=new Headers(f.headers);r.has("Content-Type")||(a&&typeof a=="string"?r.set("Content-Type","application/x-www-form-urlencoded"):i&&r.set("Content-Type","application/json")),r.set("Accept","application/json"),r.set("x-frappe-csrf-token",(globalThis==null?void 0:globalThis.csrf_token)||"");const l={method:"GET",headers:r,credentials:"include",...f};(i||a)&&(l.body=a||JSON.stringify(i),console.log("options.body",{body:i,formBody:a}));let o;try{o=await k(e,l)}catch(p){return console.error("Fetch Error",e,p),{data:null,error:"Failed connecting",status:0}}let d="",t;try{t=await o.json()}catch{}if(!o.ok){const p=((w=(u=(s=(g=(n=(h=(y=(c=t==null?void 0:t.exception)==null?void 0:c.split)==null?void 0:y.call(c,":"))==null?void 0:h[0])==null?void 0:n.split)==null?void 0:g.call(n,"."))==null?void 0:s.reverse)==null?void 0:u.call(s))==null?void 0:w[0])||(t==null?void 0:t.exc_type)||"Fetch Error";console.error(p,e,o.status,t),d=t||""}return{data:o.ok?(t==null?void 0:t.data)??(t==null?void 0:t.message)??t:null,error:d,status:o.status}}export{m as P,b as f};
