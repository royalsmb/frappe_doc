var v=Object.defineProperty;var l=s=>{throw TypeError(s)};var b=(s,e,t)=>e in s?v(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var c=(s,e,t)=>b(s,typeof e!="symbol"?e+"":e,t),f=(s,e,t)=>e.has(s)||l("Cannot "+t);var o=(s,e,t)=>(f(s,e,"read from private field"),t?t.call(s):e.get(s)),n=(s,e,t)=>e.has(s)?l("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),h=(s,e,t,r)=>(f(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t);import{a as p}from"./props.BJuUnkrR.js";import{i as w,g as y,d as I,l as m}from"./runtime.DQwr1dzu.js";import{w as S}from"./entry.BDn221P8.js";function g(s){return JSON.stringify(s)}function V(s){return JSON.parse(s)}var a,i;class d{constructor(e,t,r){n(this,a,w());c(this,"key","");n(this,i,S());this.key=e,this.value=t,h(this,i,S(t));{const u=k(e);u&&(this.value=u)}m(()=>{sessionStorage.setItem(this.key,g(this.value))}),m(()=>{o(this,i).set(this.value)}),r&&r(this.set)}get value(){return y(o(this,a))}set value(e){I(o(this,a),p(e))}subscribe(e){o(this,i).subscribe(t=>{e(t)})}set(e){this.value=e}}a=new WeakMap,i=new WeakMap;function O(s,e,t){return new d(s,e,t)}function k(s){let e=null;{const t=sessionStorage.getItem(s);t&&(e=V(t))}return e}function L(s,e){sessionStorage.setItem(s,g(e))}function _(s){sessionStorage.removeItem(s)}export{k as g,O as l,_ as r,L as s};
