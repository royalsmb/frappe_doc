import{N as y,k as i,A as b,b as A,q as n}from"./runtime.DQwr1dzu.js";import{d as q}from"./Container.CbVs3Ov9.js";import{g as t,i as S}from"./props.BJuUnkrR.js";function g(e,c,r,l=r){e.addEventListener(c,r);const a=e.__on_r;a?e.__on_r=()=>{a(),l()}:e.__on_r=l,q()}function E(e,c,r=c){var l=y();g(e,"input",()=>{var a=m(e)?h(e.value):e.value;r(a),l&&a!==(a=c())&&(e.value=a??"")}),i(()=>{var a=c();if(b&&e.defaultValue!==e.value){r(e.value);return}m(e)&&a===h(e.value)||e.type==="date"&&!a&&!e.value||(e.value=a??"")})}const d=new Set;function L(e,c,r,l,a=l){var s=r.getAttribute("type")==="checkbox",_=e;let u=!1;if(c!==null)for(var o of c)_=_[o]??(_[o]=[]);_.push(r),g(r,"change",()=>{var f=r.__value;s&&(f=k(_,f,r.checked)),a(f)},()=>a(s?[]:null)),i(()=>{var f=l();if(b&&r.defaultChecked!==r.checked){u=!0;return}s?(f=f||[],r.checked=t(f).includes(t(r.__value))):r.checked=S(r.__value,f)}),A(()=>{var f=_.indexOf(r);f!==-1&&_.splice(f,1)}),d.has(_)||(d.add(_),n(()=>{_.sort((f,v)=>f.compareDocumentPosition(v)===4?-1:1),d.delete(_)})),n(()=>{if(u){var f;if(s)f=k(_,f,r.checked);else{var v=_.find(w=>w.checked);f=v==null?void 0:v.__value}a(f)}})}function k(e,c,r){for(var l=new Set,a=0;a<e.length;a+=1)e[a].checked&&l.add(e[a].__value);return r||l.delete(c),Array.from(l)}function m(e){var c=e.type;return c==="number"||c==="range"}function h(e){return e===""?null:+e}export{L as a,E as b};
