import{b as O,q as k,al as V,Y as q,am as T,ah as I,an as Y,ak as B,ao as b,E,D as R,B as H,J as p,ai as M,ap as W,aq as C,ae as P,a8 as $,ar as G,a7 as J,G as j,p as z,A as m,V as F,a as K,v as Q}from"./runtime.DQwr1dzu.js";import{d as U}from"./disclose-version.BIyVqMZ8.js";const A=new Set,S=new Set;function X(r,a,i,o){function n(t){if(o.capture||y.call(a,t),!t.cancelBubble)return i.call(this,t)}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?k(()=>{a.addEventListener(r,n,o)}):a.addEventListener(r,n,o),n}function er(r,a,i,o,n){var t={capture:o,passive:n},f=X(r,a,i,t);(a===document.body||a===window||a===document)&&O(()=>{a.removeEventListener(r,f,t)})}function nr(r){for(var a=0;a<r.length;a++)A.add(r[a]);for(var i of S)i(r)}function y(r){var N;var a=this,i=a.ownerDocument,o=r.type,n=((N=r.composedPath)==null?void 0:N.call(r))||[],t=n[0]||r.target,f=0,_=r.__root;if(_){var u=n.indexOf(_);if(u!==-1&&(a===document||a===window)){r.__root=a;return}var l=n.indexOf(a);if(l===-1)return;u<=l&&(f=u)}if(t=n[f]||r.target,t!==a){V(r,"currentTarget",{configurable:!0,get(){return t||i}});try{for(var h,d=[];t!==null;){var s=t.assignedSlot||t.parentNode||t.host||null;try{var e=t["__"+o];if(e!==void 0&&!t.disabled)if(q(e)){var[c,...w]=e;c.apply(t,[r,...w])}else e.call(t,r)}catch(v){h?d.push(v):h=v}if(r.cancelBubble||s===a||s===null)break;t=s}if(h){for(let v of d)queueMicrotask(()=>{throw v});throw h}}finally{r.__root=a,delete r.currentTarget}}}const Z=["touchstart","touchmove"];function x(r){return Z.includes(r)}function sr(r,a){a!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=a,r.nodeValue=a==null?"":a+"")}function rr(r,a){return D(r,a)}function ir(r,a){T(),a.intro=a.intro??!1;const i=a.target,o=m,n=p;try{for(var t=I(i);t&&(t.nodeType!==8||t.data!==Y);)t=B(t);if(!t)throw b;E(!0),R(t),H();const f=D(r,{...a,anchor:t});if(p===null||p.nodeType!==8||p.data!==M)throw W(),b;return E(!1),f}catch(f){if(f===b)return a.recover===!1&&C(),T(),P(i),E(!1),rr(r,a);throw f}finally{E(o),R(n)}}const g=new Map;function D(r,{target:a,anchor:i,props:o={},events:n,context:t,intro:f=!0}){T();var _=new Set,u=d=>{for(var s=0;s<d.length;s++){var e=d[s];if(!_.has(e)){_.add(e);var c=x(e);a.addEventListener(e,y,{passive:c});var w=g.get(e);w===void 0?(document.addEventListener(e,y,{passive:c}),g.set(e,1)):g.set(e,w+1)}}};u($(A)),S.add(u);var l=void 0,h=G(()=>{var d=i??a.appendChild(J());return j(()=>{if(t){z({});var s=Q;s.c=t}n&&(o.$$events=n),m&&U(d,null),l=r(d,o)||{},m&&(F.nodes_end=p),t&&K()}),()=>{var c;for(var s of _){a.removeEventListener(s,y);var e=g.get(s);--e===0?(document.removeEventListener(s,y),g.delete(s)):g.set(s,e)}S.delete(u),L.delete(l),d!==i&&((c=d.parentNode)==null||c.removeChild(d))}});return L.set(l,h),l}let L=new WeakMap;function or(r){const a=L.get(r);a&&a()}export{nr as d,er as e,ir as h,rr as m,sr as s,or as u};
