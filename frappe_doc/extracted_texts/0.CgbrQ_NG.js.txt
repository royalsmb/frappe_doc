import{h as w,a as s,t as p,c as b}from"../chunks/BEN_y2CW.js";import{i as h}from"../chunks/osMEgwvh.js";import{p as y,o as k,l as x,a as W,f as m,t as L,b as I,s as N,c as j,m as E,g as i}from"../chunks/BmdC9-2Z.js";import{i as M}from"../chunks/BkN_-G9U.js";import{s as P,a as S,d as z,t as A}from"../chunks/BN5Zr6Pz.js";import{a as G,b as o}from"../chunks/BgPm9Szv.js";var K=p('<link rel="manifest">'),T=p('<div class="fixed inset-0 z-50 flex items-center justify-center bg-white"><div class="flex flex-col items-center gap-4"><div class="h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent"></div> <p class="text-lg font-medium text-gray-600">Loading...</p></div></div> <!>',1);function H(g,n){y(n,!1);let t=E(!0);k(async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register(o+"/sw.js",{scope:o+"/pos/"});e.waiting&&l(e),e.addEventListener("updatefound",()=>{const a=e.installing;a.addEventListener("statechange",()=>{a.state==="installed"&&navigator.serviceWorker.controller&&l(e)})})}catch(e){console.error("Service worker registration failed:",e)}}),G(()=>{N(t,!1)});function l(e){confirm("New version available! Would you like to update?")&&(e.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())}x(()=>i(t),()=>{console.log({isLoading:i(t)})}),W(),h();var f=T();w(e=>{var a=b(),u=m(a);{var _=r=>{var c=K();S(c,"href",`${o??""}/manifest.webmanifest`),s(r,c)};M(u,r=>{z||r(_)})}s(e,a)});var d=m(f),v=j(d,2);P(v,n,"default",{}),L(()=>A(d,"hidden",!i(t))),s(g,f),I()}export{H as component};
